{% extends "./modelo.html" %}
{% load static %}
{% block container %}
<head xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled</title>
    <title>form_standard_client</title>
    <link rel="stylesheet" href="{% static 'cliente/bootstrap.min.css' %}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Andika&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Anek+Bangla&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap">
    <link rel="stylesheet" href="{% static 'cliente/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'cliente/styles.min.css' %}">
</head>
<body style="background: rgb(246,247,248);border-bottom-style: solid;color: var(--bs-black);">
<section class="mt-2">
    <div class="container">


        <h1 style="font-family: 'Anek Bangla', sans-serif;">CADASTRO DE CLIENTE</h1>
        <form method="post">
            {% csrf_token %}
            <div class="container">
                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-3">
                            <div class="input-group">
                                <input class="form-control InputBorder" type="text" id="nome"
                                       placeholder="Nome Completo"
                                       style="border-style: none; border-bottom-style: solid; border-bottom-color: var(--bs-black); color: var(--bs-black); background: #ffffff80;"
                                       name="nome" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <div class="input-group">
                                <input class="form-control InputBorder" type="email" id="email" placeholder="Email"
                                       style="border-style: none; border-bottom-style: solid; border-bottom-color: var(--bs-black); color: var(--bs-black); background: #ffffff80;"
                                       name="email" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <div class="input-group">
                                <input class="form-control InputBorder" type="text" oninput="formatarDocumento()"
                                       id="documento-cliente" placeholder="CPF / CNPJ"
                                       style="border-style: none; border-bottom-style: solid; border-bottom-color: var(--bs-black); color: var(--bs-black); background: #ffffff80;"
                                       name="documento" required>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-3">
                            <div class="input-group">
                                <input class="form-control InputBorder" type="text" id="telefone1"
                                       placeholder="TELEFONE 1"
                                       style="border-style: none; border-bottom-style: solid; border-bottom-color: var(--bs-black); color: var(--bs-black); background: #ffffff80;"
                                       name="telefone1" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <div class="input-group">
                                <input class="form-control InputBorder" type="text" id="telefone2"
                                       placeholder="TELEFONE 2"
                                       style="border-style: none; border-bottom-style: solid; border-bottom-color: var(--bs-black); color: var(--bs-black); background: #ffffff80;"
                                       name="telefone2">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <div class="input-group">
                                <input class="form-control InputBorder" type="text" id="cep" placeholder="CEP"
                                       style="border-style: none; border-bottom-style: solid; border-bottom-color: var(--bs-black); color: var(--bs-black); background: #ffffff80;"
                                       name="cep" required>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="col-md-4">
                            <input class="form-control InputBorder" type="text" id="bairro" placeholder="Bairro"
                                   style="border-style: none; border-bottom-style: solid; border-bottom-color: var(--bs-black); color: var(--bs-black); background: #ffffff80;"
                                   name="bairro" required>
                        </div>
                        <div class="col-md-4">
                            <input class="form-control InputBorder" type="text" id="cidade" placeholder="Cidade"
                                   style="border-style: none; border-bottom-style: solid; border-bottom-color: var(--bs-black); color: var(--bs-black); background: #ffffff80;"
                                   name="cidade" required>
                        </div>
                        <div class="col-md-4">
                        <input class="form-control InputBorder" type="text" id="uf" placeholder="UF"
                               style="border-style: none; border-bottom-style: solid; border-bottom-color: var(--bs-black); color: var(--bs-black); background: #ffffff80;"
                               name="uf" required>
                    </div>

                    </div>


                    <div class="col-md-4">
                        <input class="form-control InputBorder" type="text" id="logradouro"
                               placeholder="Endereço Completo"
                               style="border-style: none; border-bottom-style: solid; border-bottom-color: var(--bs-black); color: var(--bs-black); background: #ffffff80;"
                               name="endereco" required>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <div class="input-group">
                                <input class="form-control InputBorder" type="number" id="numero_endereco"
                                       placeholder="Numero do Endereço"
                                       style="border-style: none; border-bottom-style: solid; border-bottom-color: var(--bs-black); color: var(--bs-black); background: #ffffff80;"
                                       name="numero_endereco" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <div class="input-group">
                                <input class="form-control InputBorder" type="text" id="complemto_endereco"
                                       placeholder="Complemento"
                                       style="border-style: none; border-bottom-style: solid; border-bottom-color: var(--bs-black); color: var(--bs-black); background: #ffffff80;"
                                       name="complemento_endereco">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container">
                <div class="row">
                    <div class="col">
                        <button id="salvar-cliente" type="submit" class="btn btn-dark">Cadastrar Cliente</button>
                    </div>
                </div>
            </div>
        </form>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="{% static 'cliente/bootstrap.min.js' %}"></script>
        <script src="{% static 'cliente/script.min.js' %}"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    </div>


    <!-- SCRIPT PARA FORMATAR DOCUMENTOS -->
    <script>
    function formatarDocumento() {
  var input = document.getElementById('documento-cliente');
  var valor = input.value.replace(/\D/g, ''); // Remove caracteres não numéricos

  // Verifica se é CPF (11 dígitos) ou CNPJ (14 dígitos)
  if (valor.length <= 11) {
    valor = valor.replace(/(\d{3})(\d)/, '$1.$2');
    valor = valor.replace(/(\d{3})(\d)/, '$1.$2');
    valor = valor.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
  } else {
    valor = valor.replace(/^(\d{2})(\d)/, '$1.$2');
    valor = valor.replace(/^(\d{2})\.(\d{3})(\d)/, '$1.$2.$3');
    valor = valor.replace(/\.(\d{3})(\d)/, '.$1/$2');
    valor = valor.replace(/(\d{4})(\d)/, '$1-$2');
  }

  input.value = valor;
}

    </script>


    <!-- SCRIPT PARA BUSCA DE CEP -->
    <script>
  $(document).ready(function() {
  console.log('entrou');
    $('#cep').on('keyup', function() {
      var cep = $(this).val().replace(/\D/g, '');
      if (cep.length == 8) {
        $.ajax({
          url: '/consultar_cep/',
          type: 'GET',
          data: { 'cep': cep },
          dataType: 'json',
          success: function(data) {
          var localidade = data.bairro + ', ' + data.localidade + ' - ' + data.uf;
          $('#bairro').val(data.bairro);
          $('#cidade').val(data.localidade);
          $('#uf').val(data.uf);
          $('#logradouro').val(data.logradouro);
        }
        });
      }
    });
   $('#cep').on('keyup', function() {
    var cep = $(this).val().replace(/\D/g, '');
    cep = cep.replace(/^(\d{5})(\d)/, '$1-$2');
    $(this).val(cep);
  });
  });

    </script>

    <!-- SCRIPT PARA FORMATAR TELEFONES -->
    <script>
        $(document).ready(function() {
  console.log('entrou');

  // Formatação do campo de telefone
  $('#telefone1').on('keyup', function() {
    var telefone = $(this).val().replace(/\D/g, '');
    var formattedTelefone = '';

    if (telefone.length >= 11) {
      // Formato para telefones com DDD
      formattedTelefone = '(' + telefone.substr(0, 2) + ') ' + telefone.substr(2, 5) + '-' + telefone.substr(7);
    } else if (telefone.length >= 10) {
      // Formato para telefones sem DDD
      formattedTelefone = telefone.substr(0, 5) + '-' + telefone.substr(5);
    } else if (telefone.length >= 6) {
      // Formato para telefones com 9 dígitos (sem formatação especial)
      formattedTelefone = telefone.substr(0, 5) + '-' + telefone.substr(5);
    } else {
      // Telefone com menos de 6 dígitos (sem formatação especial)
      formattedTelefone = telefone;
    }

    $(this).val(formattedTelefone);
  });

});


    </script>

    <!-- SCRIPT PARA FORMATAR TELEFONES -->
    <script>
        $(document).ready(function() {
  console.log('entrou');

  // Formatação do campo de telefone
  $('#telefone2').on('keyup', function() {
    var telefone = $(this).val().replace(/\D/g, '');
    var formattedTelefone = '';

    if (telefone.length >= 11) {
      // Formato para telefones com DDD
      formattedTelefone = '(' + telefone.substr(0, 2) + ') ' + telefone.substr(2, 5) + '-' + telefone.substr(7);
    } else if (telefone.length >= 10) {
      // Formato para telefones sem DDD
      formattedTelefone = telefone.substr(0, 5) + '-' + telefone.substr(5);
    } else if (telefone.length >= 6) {
      // Formato para telefones com 9 dígitos (sem formatação especial)
      formattedTelefone = telefone.substr(0, 5) + '-' + telefone.substr(5);
    } else {
      // Telefone com menos de 6 dígitos (sem formatação especial)
      formattedTelefone = telefone;
    }

    $(this).val(formattedTelefone);
  });

});


    </script>

</section>
</body>
</html>
{% endblock %}